---
import Layout from '../../layouts/Layout.astro';
import BlogList from '../../components/react-pages/BlogList';
import getReadingTime from 'reading-time';
import { getCollection } from 'astro:content';

const allPosts = await getCollection('posts');
const posts = allPosts.map(p => ({
    slug: p.slug,
    ...p.data,
    readTime: getReadingTime(p.body).text
})).sort((a, b) => new Date(b.date) - new Date(a.date));
---

<Layout 
    title="Articles | Weiran's Universe"
    description="Unboxing Weiran's thoughts: Engineering patterns, option strategies, artistic experiments, and life adventures."
    canonicalURL={new URL('/blog', Astro.site).toString()}
>
    <BlogList client:only="react" posts={posts} />
</Layout>
